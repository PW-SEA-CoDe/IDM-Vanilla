var le=Object.defineProperty;var se=(e,n,o)=>n in e?le(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o;var R=(e,n,o)=>se(e,typeof n!="symbol"?n+"":n,o);import*as h from"https://unpkg.com/three@0.164.1/build/three.module.js";import{OrbitControls as ce}from"https://unpkg.com/three@0.164.1/examples/jsm/controls/OrbitControls.js";import{Rhino3dmLoader as de}from"https://unpkg.com/three@0.164.1/examples/jsm/loaders/3DMLoader.js";import{EffectComposer as pe}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/EffectComposer.js";import{RenderPass as ue}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/RenderPass.js";import{FilmPass as he}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/FilmPass.js";import"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/RenderPixelatedPass.js";import{SSAOPass as ge}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/SSAOPass.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();function x(e,...n){for(const o of n)for(const[t,r]of Object.entries(o))e.style[t]=r}function p(e,n){const o=document.createElement("div");return o.id=e,x(o,n),o}function $(e){let n=[parseFloat(getComputedStyle(e).height),parseFloat(getComputedStyle(e).width)];return Math.min(...n)}function fe(e){let n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,n.append(o)}let d={empty:"rgba(0,0,0,0)",white:"rgba(255,255,255,1)",white75:"rgba(255,255,255,0.75)",white50:"rgba(255,255,255,0.50)",white25:"rgba(255,255,255,0.25)",offWhite:"rgba(243,243,239,1)",offWhite75:"rgba(243,243,239,0.75)",offWhite50:"rgba(243,243,239,0.50)",offWhite25:"rgba(243,243,239,0.25)",darkGray:"rgba(76,79,84,1)",darkGray75:"rgba(76,79,84,0.75)",darkGray50:"rgba(76,79,84,0.50)",darkGray25:"rgba(76,79,84,0.25)",lightGray:"rgba(236,239,234,1)",fullBlack:"rgba(0,0,0,1)",lightBlack:"rgba(26,29,34,1)",lightBlack75:"rgba(26,29,34,0.75)",lightBlack50:"rgba(26,29,34,0.50)",lightBlack25:"rgba(26,29,34,0.25)"},T={flexColumn:{display:"flex",flexDirection:"column"},flexRow:{display:"flex",flexDirection:"row"},centerColumn:{alignItems:"center",justifyContent:"center",textAlign:"center"},centerRow:{alignItems:"center",justifyContent:"center",textAlign:"center"}},K={static:{pointerEvents:"all",cursor:"pointer",padding:"1px",margin:"10px 0px",backgroundColor:d.empty,boxShadow:`0px 0px 0px ${d.lightBlack75}`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:"10px",opacity:"0.75"},hover:{backgroundColor:d.darkGray,boxShadow:`0px 5px 5px ${d.lightBlack}`}},G={wrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",color:"white",fontSize:"14px",fontWeight:"600",pointerEvents:"all"},layerBaseStyle:{width:"100%",height:"4%",marginTop:"2%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"all",borderRadius:"5px",backgroundColor:d.darkGray75,color:d.offWhite,boxShadow:"0px 2px 2px rgb(50,50,50)"},layerActiveStyle:{backgroundColor:d.darkGray75,color:d.offWhite,border:"none",boxShadow:"2px 1px 0px rgba(50, 50, 50, 0.9)",fontWeight:"200",boxShadow:"0px 2px 2px rgb(50,50,50)"},layerHiddenStyle:{backgroundColor:d.lightBlack75,color:d.white25,fontWeight:"100",border:"dashed",borderWidth:"0.25px",borderColor:d.white25,boxShadow:`0px 0px 0px ${d.darkGray75}`}},b={wrapper:{wrapper:{width:"100%",height:"100%",padding:"0px"}},SunControls:{wrapper:{height:"auto",width:"100%",padding:"5px"},title:{width:"100%",height:"auto",padding:"5px",color:d.offWhite,fontWeight:"600"},body:{width:"100%",height:"auto",padding:"5px",borderRadius:"10px",padding:"10px",backgroundColor:d.lightBlack25},toDWrapper:{pointerEvents:"all",width:"100%",height:"100%",color:d.offWhite},toYWrapper:{pointerEvents:"all",width:"100%",height:"100%",color:d.offWhite},toDSlider:{height:"auto",marginTop:"10%",marginBottom:"10%"},toYSlider:{height:"auto",marginTop:"10%",marginBottom:"10%"}},CameraControls:{wrapper:{height:"auto",width:"100%",padding:"5px"},title:{width:"100%",height:"auto",padding:"5px",color:d.offWhite,fontWeight:"600"},body:{width:"100%",height:"auto",padding:"5px",borderRadius:"10px",padding:"10px",backgroundColor:d.lightBlack25},fovWrapper:{height:"auto",width:"100%",pointerEvents:"all",color:d.offWhite},fovSlider:{height:"auto",marginTop:"10%",marginBottom:"10%"},projWrapper:{height:"100%",width:"100%",pointerEvents:"all",color:d.offWhite},perspProj:{width:"100%",height:"50%",borderRadius:"8px",marginTop:"5%",marginBottom:"5%",backgroundColor:d.darkGray},orthoProj:{width:"100%",height:"100%",borderRadius:"8px",marginTop:"5%",marginBottom:"5%",backgroundColor:d.darkGray}},ImportedViews:{wrapper:{height:"100%",width:"100%"},title:{width:"100%",height:"auto",padding:"5px",color:d.offWhite,fontWeight:"600"},body:{width:"100%",height:"auto",padding:"5px",borderRadius:"10px",padding:"10px",backgroundColor:d.lightBlack25}}};function q(e,n,o){let t;return t=p(o,K.static),t.style.height=`${$(e)-25}px`,t.style.width=`${$(e)-25}px`,t.style.backgroundImage=`url(${n})`,e.append(t),t.addEventListener("mouseover",function(){x(t,K.hover)}),t.addEventListener("mouseleave",function(){x(t,K.static)}),t.addEventListener("resize",function(){t.style.height=`${$(e-25)}px`,t.style.width=`${$(e-25)}px`}),t}function ee(e,n){const o=n;function t(){let i;i=p("layer-list-test",G.wrapper),e.forEach(a=>{let l=p(`${a.name}`,G.layerBaseStyle);l.innerText=a.name,i.append(l),l.style.marginLeft=`${10*(a.depth-1)}%`,l.style.width=`${100-10*(a.depth-1)}%`,a.object.visible===!0?x(l,G.layerActiveStyle):a.object.visible===!1&&x(l,G.layerHiddenStyle)}),o.append(i)}t();function r(){document.getElementById("layer-list-test").querySelectorAll("div").forEach(s=>{s.addEventListener("click",function(g){e.forEach(c=>{l(c,s)})})});function l(s,g){console.log(g.id),s.name===g.id&&(console.log(s),s.geometry.forEach(c=>{c.visible=!c.visible}),s.object.visible=!s.object.visible,s.object.visible===!0?x(g,G.layerActiveStyle):s.object.visible===!1&&x(g,G.layerHiddenStyle))}}r()}function me(e,n,o){let t,r,i,a;t=p("scene-controls",b.wrapper.wrapper),x(t,T.flexColumn);function l(){let c,f,u,j,w,C,k;return c=p("sc-sun-controls",b.SunControls.wrapper),x(c,T.flexColumn),f=p("sc-sc-title",b.SunControls.title),f.innerText="Sun",u=p("sc-sc-body",b.SunControls.body),x(u,T.flexColumn),j=p("sc-sc-toD-wrapper",b.SunControls.toDWrapper),x(j,T.flexColumn),j.innerText="Time of Day",C=document.createElement("input"),C.type="range",C.min="1",C.value="180",C.max="360",x(C,b.SunControls.toDSlider),w=p("sc-sc-toY-wrapper",b.SunControls.toYWrapper),x(w,T.flexColumn),w.innerText="Time of Year",k=document.createElement("input"),k.type="range",k.min="500",k.value="750",k.max="1200",x(k,b.SunControls.toYSlider),c.append(f),c.append(u),u.append(j),j.append(C),u.append(w),w.append(k),C.oninput=function(){let M,V,Y,N;M=500,V=this.value*Math.PI/180,Y=M*Math.sin(V),N=M*Math.cos(V),n.position.x=Y,n.position.y=N,console.log(n.position),console.log(this.value)},k.oninput=function(){n.position.z=parseInt(this.value)},{wrapper:c,timeSlider:C,dateSlider:k}}function s(){let c,f,u,j,w,C,k,M;return c=p("sc-camera-controls",b.CameraControls.wrapper),f=p("sc-cc-title",b.CameraControls.title),f.innerText="Camera",u=p("sc-cc-body",b.CameraControls.body),x(u,T.flexColumn),j=p("sc-cc-fov-wrapper",b.CameraControls.fovWrapper),j.innerText="FOV",x(j,T.flexColumn),w=document.createElement("input"),w.type="range",w.min="5",w.max="120",w.value="50",x(w,b.CameraControls.fovSlider),C=p("sc-cc-proj-wrapper",b.CameraControls.projWrapper),C.innerText="Projection",x(C,T.flexColumn),k=p("sc-cc-proj-perspective",b.CameraControls.perspProj),k.innerText="Perspective",x(k,T.flexColumn,T.centerColumn),M=p("sc-cc-proj-orthographic",b.CameraControls.orthoProj),M.innerText="Orthographic",x(M,T.flexColumn,T.centerColumn),w.oninput=function(){console.log(this.value),console.log(o),o.fov=parseInt(this.value),o.updateProjectionMatrix()},c.append(f),c.append(u),u.append(j),j.append(w),u.append(C),C.append(k),C.append(M),{wrapper:c}}function g(){let c,f,u;return c=p("sc-imported-views",b.ImportedViews.wrapper),f=p("sc-iv-title",b.ImportedViews.title),f.innerText="Imported Views",u=p("sc-iv-body",b.ImportedViews.body),x(u,T.flexColumn),c.append(f),c.append(u),{wrapper:c}}return r=l(),i=s(),a=g(),t.append(r.wrapper),t.append(i.wrapper),t.append(a.wrapper),e.append(t),{wrapper:t}}const xe=document.getElementById("ui");console.log("Imported "+xe.id+" correctly!");fe("/src/ui/Containers.css");const I={navContainer:{position:"absolute",top:"0",left:"0",height:"100%",width:"min(10%, 80px)",display:"flex",flexDirection:"column",backgroundColor:d.lightBlack,boxShadow:`0px 0px 10px ${d.lightBlack50}`,backdropFilter:"blur(20px)",padding:"5px",zIndex:"1"},navHeader:{height:"5%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},navBody:{height:"90%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start"},navFooter:{height:"5%",width:"100%"},contextContainer:{position:"absolute",top:"5%",left:"min(10%, 80px)",height:"95%",width:"max(20%, 300px)",opacity:"1",transition:"left 0.5s",transitionTimingFunction:"ease",borderRadius:"0px 10px 10px 0px",backgroundColor:d.lightBlack75,boxShadow:`0px 0px 5px ${d.lightBlack25}`,backdropFilter:"blur(20px)",padding:"5px"},contextHeader:{height:"5%",width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start",display:"flex",justifyContent:"center",alignItems:"center"},contextBody:{height:"95%",width:"100%",marginTop:"5px",padding:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"10px"},contextFooter:{height:"0%",width:"100%",marginTop:"5px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},toggle:{pointerEvents:"all",cursor:"pointer",display:"flex",width:"50px",minWidth:"20px",height:"50px",minHeight:"20px",alignItems:"center",justifyContent:"center",textAlign:"center",borderRadius:"50%",backgroundColor:d.darkGray75,color:d.offWhite,fontSize:"16px",transform:"rotate(0deg)",transition:"transform 0.5s",transitionTimingFunction:"ease"},contextHeadIcon:{width:"10%",height:"100%",backgroundColor:"none",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},contextHeadTitle:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"start",color:d.offWhite,fontSize:"18px",fontWeight:"600"}};function ye(){const e=document.getElementById("ui");function n(){const a=p("sidebar-nav-container",I.navContainer),l=p("sidebar-nav-header",I.navHeader),s=p("sidebar-nav-body",I.navBody),g=p("sidebar-nav-footer",I.navFooter);return a.append(l,s,g),{container:a,header:l,body:s,footer:g}}function o(){const a=p("sidebar-panel-container",I.contextContainer),l=p("sidebar-context-header",I.contextHeader),s=p("sidebar-context-header-icon",I.contextHeadIcon),g=p("sidebar-context-header-title",I.contextHeadTitle);l.append(s,g),g.innerText="Layers";const c=p("sidebar-context-body",I.contextBody),f=p("sidebar-context-footer",I.contextFooter);return a.append(l,c,f),{container:a,header:l,headTitle:g,headIcon:s,body:c,footer:f}}function t(a,l){let s=$(a),g={height:`${s-10}px`,width:`${s-10}px`},c=p("sidebar-panel-toggle",I.toggle),f=!0;x(c,g),c.innerText="âœ•",a.append(c);function u(){f===!1?f=!0:f=!1}c.addEventListener("click",function(){f===!1?(c.style.transform="rotate(0deg)",l.style.left="min(10%, 80px)",u()):(c.style.transform="rotate(-45deg)",l.style.left="-30%",u())})}const r=n(),i=o();return t(r.header,i.container),e.append(r.container,i.container),{nav:r,context:i}}const be={container:{position:"absolute",top:"0",right:"10%",height:"4%",width:"80%",backgroundColor:d.lightBlack,boxShadow:`0px 0px 10px ${d.lightBlack50}`,color:d.offWhite,fontSize:"18px",fontWeight:"600",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"0px 0px 10px 10px"}};function we(){const e=document.getElementById("ui"),n=p("header-container",be.container);n.innerText="IDM-Vanilla",e.append(n)}function Ce(){let e={};document.getElementById("ui"),e.nb=ye(),e.hd=we(),e.buttons={layers:q(e.nb.nav.body,"icons/Layers.png","layer-button"),scene:q(e.nb.nav.body,"icons/Cameras.png","camera-button"),edit:q(e.nb.nav.body,"icons/Groups.png","group-button"),metrics:q(e.nb.nav.body,"icons/Metrics.png","metrics-button")};function n(){let t;for(const[r,i]of Object.entries(e.buttons))i.addEventListener("click",function(){console.log(`${r} button clicked`),t=r});return t}let o=n();return console.log(o),console.log(e),console.log(e.buttons),e}function ve(){const e=document.getElementById("scene"),n=e.clientWidth,o=e.clientHeight,t=new h.Scene;t.up=new h.Vector3(0,0,1),t.name="Main_Scene";const r=new h.WebGLRenderer({powerPreference:"high-performance",stencil:"false",antialias:!0,alpha:!0});r.setSize(n,o),r.setPixelRatio(window.devicePixelRatio),r.gammaFactor=0,r.shadowMap.enabled=!0,r.shadowMap.type=h.PCFSoftShadowMap,r.toneMapping=h.LinearToneMapping,e.append(r.domElement);const i=new h.PerspectiveCamera(60,n/o,.1,1e4);i.up=new h.Vector3(0,0,1);const a=new ce(i,r.domElement);return a.target=new h.Vector3(0,0,250),a.enableDamping=!0,a.dampingFactor=.05,console.log(t),console.log(a),{scene:t,sceneContainer:e,renderer:r,camera:i,controls:a}}const te=new de;te.setLibraryPath("https://cdn.jsdelivr.net/npm/rhino3dm@8.6.1/");async function Se(e,n,o){return new Promise((t,r)=>{let i;i=null,te.load(e,function(a){i=a,i.up=new h.Vector3(0,0,1),console.log(i);let l=[],s=[],g=[],c=[],f=[],u;u={x:0,y:0,z:0};function j(){let S,P,v,L;return S=[],P=[],v=[],L=[],i.children.forEach(y=>{S.push(y),y.type==="Mesh"?(y.castShadow=n,y.receiveShadow=o,C(y),P.push(y)):y.type==="Line"?(y.castShadow=!1,y.receiveShadow=!1,v.push(y)):y.type==="Point"&&(y.castShadow=!1,y.receiveShadow=!1,L.push(y))}),{geometry:S,meshes:P,lines:v,points:L}}let w=j();l=w.geometry,s=w.meshes,g=w.lines;function C(S){let P=S.material.clone(),v=new h.MeshStandardMaterial;v.color=P.color.clone(),v.metalness=P.metalness,v.roughness=P.roughness,v.opacity=P.opacity;let L=v.clone();L.uuid=S.uuid,c.push(L),f.push(v),S.material=v}function k(){i.children.forEach(S=>{S.geometry.computeBoundingSphere(),u.x+=S.geometry.boundingSphere.center.x,u.y+=S.geometry.boundingSphere.center.y,u.z+=S.geometry.boundingSphere.center.z}),u.x=u.x/i.children.length,u.y=u.y/i.children.length,u.z=u.z/i.children.length}k();function M(){const S=i.userData.layers;class P{constructor(E,D,F,z){R(this,"parent",null);R(this,"depth",null);R(this,"geometry",[]);this.name=E,this.fullPath=D,this.index=F,this.object=z}}let v=0;S.forEach(m=>{m.fullPath;let E=m.fullPath.split("::").length;E>v&&(v=E)});let L=[];for(let m=1;m<v+1;m++){let E=[];S.forEach((D,F)=>{if(D.fullPath.split("::").length===m){let z=new P(D.name,D.fullPath,F,D);z.depth=m,E.push(z)}}),L.push(E)}for(let m=0;m<L.length;m++)if(m!==0){let E=L[m],D=L[m-1];E.forEach(F=>{D.forEach(z=>{F.fullPath.includes(z.fullPath)&&(F.parent=z)})})}let y=[];L.forEach((m,E)=>{y=y.concat(m)});let H=[];return L[0].forEach(m=>{let E=m.fullPath;y.forEach(D=>{D.fullPath.includes(E)&&H.push(D)})}),H.forEach(m=>{i.children.forEach(E=>{E.userData.attributes.layerIndex===m.index&&m.geometry.push(E)})}),console.log(H),{layerDepths:H}}const V=M();function Y(){const S=i.userData.groups,P=[];return S.forEach((v,L)=>{class y{constructor(){R(this,"name",null);R(this,"index",null);R(this,"geometry",[])}}let H=new y;H.name=v.name,H.index=v.index,i.children.forEach(m=>{m.userData.attributes.groupIds!==void 0&&m.userData.attributes.groupIds.forEach(E=>{E===L&&H.geometry.push(m)})}),P.push(H)}),P}const N=Y();t({averageCenter:u,geometry:l,groups:N,layerList:V.layerDepths,lines:g,meshes:s,ogMaterials:c,materials:f,object:i})},void 0,function(a){r(a),console.log(a)})})}function Ee(e,n){let o,t;return o=new h.Color(e),t=new h.AmbientLight(o,n),{light:t}}function ke(e,n,o){let t,r,i;return r=new h.Color(e),i=new h.Color(n),t=new h.HemisphereLight(r,i,o),{light:t}}function Le(e,n,o,t,r,i){let a,l,s,g=1;return a=new h.Color(e),l=new h.SpotLight(a),s=new h.SpotLightHelper(l,"#000000"),l.position.set(o.x,o.y,o.z),l.intensity=n,l.castShadow=r,l.angle=Math.pi/t,l.penumbra=.5,l.decay=.5,l.shadow.mapSize.width=1024*g,l.shadow.mapSize.height=1024*g,l.shadow.camera.near=.5,l.shadow.camera.far=1e4,s.update(),{light:l,helper:s}}function je(e,n,o,t,r){let i,a,l,s,g,c,f;return new h.Color(e),s=Le(e,n*10,o,t,r).light,s.angle=Math.PI/t,console.log(s),i=new h.Color(e),g=new h.DirectionalLight(i,n/2),g.position.set(-o.x,o.y,o.z),g.castShadow=!1,a=new h.Color(e),c=new h.DirectionalLight(a,n/2),c.position.set(o.x,-o.y,o.z),c.castShadow=!1,l=new h.Color(e),f=new h.DirectionalLight(l,n/2),f.position.set(-o.x,-o.y,o.z),f.castShadow=!1,{lightA:s,lightB:g,lightC:c,lightD:f}}function Pe(e,n,o){window.addEventListener("resize",function(){e.aspect=o.clientWidth/o.clientHeight,e.updateProjectionMatrix(),n.setSize(o.clientWidth,o.clientHeight)})}const Z=new h.Raycaster,X=new h.Vector2;function oe(e,n,o){let t,r=null,i,a;i=(-window.innerWidth/2+e.clientX)/(window.innerWidth/2),a=(window.innerHeight/2-e.clientY)/(window.innerHeight/2),X.x=i,X.y=a,Z.setFromCamera(X,o);let l=[];return n.forEach(s=>{s.visible===!0&&l.push(s)}),t=Z.intersectObjects(l,!0),t.length>0?r=t[0].object:r=null,{object:r}}function Te(e,n,o){let t=[];if(e.forEach(r=>{r.visible===!0&&t.push(r)}),o!==null){let r=new h.Color("rgb(255,100,0)");o.material.color.set(r),t.forEach(i=>{i.uuid!==o.uuid&&n.forEach(a=>{a.uuid===i.uuid&&i.material.color.set(a.color)})})}else t.forEach(r=>{n.forEach(i=>{i.uuid===r.uuid&&r.material.color.set(i.color)})})}function We(e,n,o){if(o!==null){let t=new h.Color("rgb(100,255,0)");o.material.color.set(t)}}async function Be(e){try{const o=await(await fetch(e)).json();return o.forEach(t=>{function r(i){let a=i.split(",");return a=a.map(s=>s.replace(/[{}]/g,"").trim()),new h.Vector3(a[0],a[1],a[2])}t.position=r(t.position),t.target=r(t.target),t.fov=parseFloat(t.fov)}),o}catch(n){console.log("Error fetching requested file",n)}}function De(e,n,o){const t=new pe(n);return t.addPass(new ue(e,o)),t.addPass(new he(.25,!1)),t.addPass(new ge(e,o,1,1)),t}document.getElementById("ui");function Ie(e){let n,o={pointerEvents:"all",width:"100%",height:"100%",backgroundColor:d.offWhite};n=p("edit-container",o),e.append(n)}const{scene:U,sceneContainer:Me,renderer:J,camera:B,controls:He}=ve();B.position.set(-500,-400,800);let ne,A,re;ne=Ee("rgb(255,255,255)",.5);re=ke("rgb(239,254,254)","rgb(54,54,39)",2);A=je("rgb(255,255,255)",5,{x:-500,y:-500,z:500},4,!0);U.add(ne.light,re.light,A.lightA,A.lightB,A.lightC,A.lightD);let W,ie;W=await Se("models/Design-Model.3dm",!0,!0);console.log(W.object);W.meshes.forEach(e=>{U.add(e)});ie=await Be("models/CameraPositions.json");let _=ie[3];console.log(_);B.position.copy(_.position);B.lookAt(_.target);B.fov=_.fov;console.log(B);const Q=Ce();let O=Q.nb.context.body,ze=Q.buttons;function Re(){for(const[e,n]of Object.entries(ze))n.addEventListener("click",function(){O.innerHTML="";let t=e;Q.nb.context.headTitle.innerText=t.charAt(0).toLocaleUpperCase()+t.slice(1).toLowerCase(),t.toLocaleLowerCase(),console.log(t),t==="layers"?ee(W.layerList,O):t==="scene"?me(O,A.lightA,B):t==="edit"&&Ie(O)})}Re();ee(W.layerList,O);console.log(W);De(U,J,B);window.addEventListener("mousemove",function(e){let n=oe(e,W.meshes,B).object;Te(W.meshes,W.ogMaterials,n)});window.addEventListener("click",function(e){let n=oe(e,W.meshes,B).object;console.log(n),We(W.meshes,W.ogMaterials,n)});Pe(B,J,Me);function Fe(){B.updateMatrixWorld(),J.render(U,B)}function ae(){requestAnimationFrame(ae),He.update(),Fe()}ae();
