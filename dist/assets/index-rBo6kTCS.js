var se=Object.defineProperty;var pe=(e,r,o)=>r in e?se(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o;var z=(e,r,o)=>pe(e,typeof r!="symbol"?r+"":r,o);import*as h from"https://unpkg.com/three@0.164.1/build/three.module.js";import{OrbitControls as ce}from"https://unpkg.com/three@0.164.1/examples/jsm/controls/OrbitControls.js";import{Rhino3dmLoader as de}from"https://unpkg.com/three@0.164.1/examples/jsm/loaders/3DMLoader.js";import{EffectComposer as ue}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/EffectComposer.js";import{RenderPass as he}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/RenderPass.js";import{FilmPass as ge}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/FilmPass.js";import"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/RenderPixelatedPass.js";import{SSAOPass as fe}from"https://unpkg.com/three@0.164.1/examples/jsm/postprocessing/SSAOPass.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=o(i);fetch(i.href,n)}})();function b(e,...r){for(const o of r)for(const[t,i]of Object.entries(o))e.style[t]=i}function u(e,r){const o=document.createElement("div");return o.id=e,b(o,r),o}function O(e){let r=[parseFloat(getComputedStyle(e).height),parseFloat(getComputedStyle(e).width)];return Math.min(...r)}function me(e){let r=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,r.append(o)}let c={empty:"rgba(0,0,0,0)",white:"rgba(255,255,255,1)",white75:"rgba(255,255,255,0.75)",white50:"rgba(255,255,255,0.50)",white25:"rgba(255,255,255,0.25)",offWhite:"rgba(243,243,239,1)",offWhite75:"rgba(243,243,239,0.75)",offWhite50:"rgba(243,243,239,0.50)",offWhite25:"rgba(243,243,239,0.25)",darkGray:"rgba(76,79,84,1)",darkGray75:"rgba(76,79,84,0.75)",darkGray50:"rgba(76,79,84,0.50)",darkGray25:"rgba(76,79,84,0.25)",lightGray:"rgba(236,239,234,1)",fullBlack:"rgba(0,0,0,1)",lightBlack:"rgba(26,29,34,1)",lightBlack75:"rgba(26,29,34,0.75)",lightBlack50:"rgba(26,29,34,0.50)",lightBlack25:"rgba(26,29,34,0.25)"},P={flexColumn:{display:"flex",flexDirection:"column"},flexRow:{display:"flex",flexDirection:"row"},centerColumn:{alignItems:"center",justifyContent:"center",textAlign:"center"},centerRow:{alignItems:"center",justifyContent:"center",textAlign:"center"}},I={wrapper:{position:"absolute",display:"flex",flexDirection:"column",width:"5%",minWidth:"80px",maxWidth:"300px",height:"100%",left:"0",top:"0",backgroundColor:c.lightBlack75,boxShadow:`0px 0px 10px ${c.lightBlack50}`,backdropFilter:"blur(20px)",borderRadius:"0px 10px 10px 0px"},header:{height:"5%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},body:{height:"90%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start"},footer:{height:"5%",width:"100%"},panelWrapper:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",width:"30%",height:"98%",left:"min(10%, 80px)",top:"1%",padding:"5px",backgroundColor:c.lightBlack50,opacity:"1",transition:"left 0.5s",transitionTimingFunction:"ease",borderRadius:"0px 10px 10px 0px",boxShadow:`0px 0px 5px ${c.lightBlack25}`,backdropFilter:"blur(20px)"},panelHeader:{height:"5%",width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start",borderRadius:"10px",backgroundColor:"none"},panelBody:{height:"100%",width:"100%",marginTop:"5px",padding:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"10px",backgroundColor:c.lightBlack75},panelFooter:{height:"0%",width:"100%",marginTop:"5px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"10px",backgroundColor:"none"},panelHeadIcon:{width:"30%",height:"100%",backgroundColor:"none",backgroundImage:"url(/assets/icons/Layers.png",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},panelHeadTitle:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"start",color:c.offWhite,fontSize:"18px",fontWeight:"600"},toggle:{pointerEvents:"all",cursor:"pointer",width:"100%",minWidth:"20px",maxWidth:"100px",minHeight:"20px",maxHeigh:"100px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",borderRadius:"50%",backgroundColor:c.darkGray75,color:c.offWhite,fontSize:"16px",transform:"rotate(0deg)",transition:"transform 0.5s",transitionTimingFunction:"ease"}},K={static:{pointerEvents:"all",cursor:"pointer",padding:"1px",margin:"10px 0px",backgroundColor:c.empty,boxShadow:`0px 0px 0px ${c.lightBlack75}`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:"10px",opacity:"0.75"},hover:{backgroundColor:c.darkGray,boxShadow:`0px 5px 5px ${c.lightBlack}`}},A={wrapper:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",color:"white",fontSize:"14px",fontWeight:"600",pointerEvents:"all"},layerBaseStyle:{width:"100%",height:"4%",marginTop:"2%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"all",borderRadius:"5px",backgroundColor:c.darkGray75,color:c.offWhite,boxShadow:"0px 2px 2px rgb(50,50,50)"},layerActiveStyle:{backgroundColor:c.darkGray75,color:c.offWhite,border:"none",boxShadow:"2px 1px 0px rgba(50, 50, 50, 0.9)",fontWeight:"200",boxShadow:"0px 2px 2px rgb(50,50,50)"},layerHiddenStyle:{backgroundColor:c.lightBlack75,color:c.white25,fontWeight:"100",border:"dashed",borderWidth:"0.25px",borderColor:c.white25,boxShadow:`0px 0px 0px ${c.darkGray75}`}},w={wrapper:{wrapper:{width:"100%",height:"100%",padding:"0px"}},SunControls:{wrapper:{height:"auto",width:"100%",padding:"5px"},title:{width:"100%",height:"auto",padding:"5px",color:c.offWhite,fontWeight:"600"},body:{width:"100%",height:"auto",padding:"5px",borderRadius:"10px",padding:"10px",backgroundColor:c.lightBlack25},toDWrapper:{pointerEvents:"all",width:"100%",height:"100%",color:c.offWhite},toYWrapper:{pointerEvents:"all",width:"100%",height:"100%",color:c.offWhite},toDSlider:{height:"auto",marginTop:"10%",marginBottom:"10%"},toYSlider:{height:"auto",marginTop:"10%",marginBottom:"10%"}},CameraControls:{wrapper:{height:"auto",width:"100%",padding:"5px"},title:{width:"100%",height:"auto",padding:"5px",color:c.offWhite,fontWeight:"600"},body:{width:"100%",height:"auto",padding:"5px",borderRadius:"10px",padding:"10px",backgroundColor:c.lightBlack25},fovWrapper:{height:"auto",width:"100%",pointerEvents:"all",color:c.offWhite},fovSlider:{height:"auto",marginTop:"10%",marginBottom:"10%"},projWrapper:{height:"100%",width:"100%",pointerEvents:"all",color:c.offWhite},perspProj:{width:"100%",height:"50%",borderRadius:"8px",marginTop:"5%",marginBottom:"5%",backgroundColor:c.darkGray},orthoProj:{width:"100%",height:"100%",borderRadius:"8px",marginTop:"5%",marginBottom:"5%",backgroundColor:c.darkGray}},ImportedViews:{wrapper:{height:"100%",width:"100%"},title:{width:"100%",height:"auto",padding:"5px",color:c.offWhite,fontWeight:"600"},body:{width:"100%",height:"auto",padding:"5px",borderRadius:"10px",padding:"10px",backgroundColor:c.lightBlack25}}};function N(e,r,o){let t;return t=u(o,K.static),t.style.height=`${O(e)-25}px`,t.style.width=`${O(e)-25}px`,t.style.backgroundImage=`url(${r})`,e.append(t),t.addEventListener("mouseover",function(){b(t,K.hover)}),t.addEventListener("mouseleave",function(){b(t,K.static)}),t.addEventListener("resize",function(){t.style.height=`${O(e-25)}px`,t.style.width=`${O(e-25)}px`}),t}function te(e,r){const o=r;function t(){let n;n=u("layer-list-test",A.wrapper),e.forEach(a=>{let l=u(`${a.name}`,A.layerBaseStyle);l.innerText=a.name,n.append(l),l.style.marginLeft=`${10*(a.depth-1)}%`,l.style.width=`${100-10*(a.depth-1)}%`,a.object.visible===!0?b(l,A.layerActiveStyle):a.object.visible===!1&&b(l,A.layerHiddenStyle)}),o.append(n)}t();function i(){document.getElementById("layer-list-test").querySelectorAll("div").forEach(s=>{s.addEventListener("click",function(g){e.forEach(p=>{l(p,s)})})});function l(s,g){console.log(g.id),s.name===g.id&&(console.log(s),s.geometry.forEach(p=>{p.visible=!p.visible}),s.object.visible=!s.object.visible,s.object.visible===!0?b(g,A.layerActiveStyle):s.object.visible===!1&&b(g,A.layerHiddenStyle))}}i()}function be(e,r,o){let t,i,n,a;t=u("scene-controls",w.wrapper.wrapper),b(t,P.flexColumn);function l(){let p,m,d,x,C,S,L;return p=u("sc-sun-controls",w.SunControls.wrapper),b(p,P.flexColumn),m=u("sc-sc-title",w.SunControls.title),m.innerText="Sun",d=u("sc-sc-body",w.SunControls.body),b(d,P.flexColumn),x=u("sc-sc-toD-wrapper",w.SunControls.toDWrapper),b(x,P.flexColumn),x.innerText="Time of Day",S=document.createElement("input"),S.type="range",S.min="1",S.value="180",S.max="360",b(S,w.SunControls.toDSlider),C=u("sc-sc-toY-wrapper",w.SunControls.toYWrapper),b(C,P.flexColumn),C.innerText="Time of Year",L=document.createElement("input"),L.type="range",L.min="500",L.value="750",L.max="1200",b(L,w.SunControls.toYSlider),p.append(m),p.append(d),d.append(x),x.append(S),d.append(C),C.append(L),S.oninput=function(){let M,V,Y,q;M=500,V=this.value*Math.PI/180,Y=M*Math.sin(V),q=M*Math.cos(V),r.position.x=Y,r.position.y=q,console.log(r.position),console.log(this.value)},L.oninput=function(){r.position.z=parseInt(this.value)},{wrapper:p,timeSlider:S,dateSlider:L}}function s(){let p,m,d,x,C,S,L,M;return p=u("sc-camera-controls",w.CameraControls.wrapper),m=u("sc-cc-title",w.CameraControls.title),m.innerText="Camera",d=u("sc-cc-body",w.CameraControls.body),b(d,P.flexColumn),x=u("sc-cc-fov-wrapper",w.CameraControls.fovWrapper),x.innerText="FOV",b(x,P.flexColumn),C=document.createElement("input"),C.type="range",C.min="5",C.max="120",C.value="50",b(C,w.CameraControls.fovSlider),S=u("sc-cc-proj-wrapper",w.CameraControls.projWrapper),S.innerText="Projection",b(S,P.flexColumn),L=u("sc-cc-proj-perspective",w.CameraControls.perspProj),L.innerText="Perspective",b(L,P.flexColumn,P.centerColumn),M=u("sc-cc-proj-orthographic",w.CameraControls.orthoProj),M.innerText="Orthographic",b(M,P.flexColumn,P.centerColumn),C.oninput=function(){console.log(this.value),console.log(o),o.fov=parseInt(this.value),o.updateProjectionMatrix()},p.append(m),p.append(d),d.append(x),x.append(C),d.append(S),S.append(L),S.append(M),{wrapper:p}}function g(){let p,m,d;return p=u("sc-imported-views",w.ImportedViews.wrapper),m=u("sc-iv-title",w.ImportedViews.title),m.innerText="Imported Views",d=u("sc-iv-body",w.ImportedViews.body),b(d,P.flexColumn),p.append(m),p.append(d),{wrapper:p}}return i=l(),n=s(),a=g(),t.append(i.wrapper),t.append(n.wrapper),t.append(a.wrapper),e.append(t),{wrapper:t}}const J=document.getElementById("ui");console.log("Imported "+J.id+" correctly!");me("/src/ui/Containers.css");function ye(){function e(){let n;n=u("sidebar-menu-wrapper",I.wrapper),J.append(n);let a,l,s;return a=u("sidebar-menu-header",I.header),l=u("sidebar-menu-body",I.body),s=u("sidebar-menu-footer",I.footer),n.append(a,l,s),{wrapper:n,header:a,body:l,footer:s}}function r(){let n;n=u("sidebar-panel-wrapper",I.panelWrapper),J.append(n);let a,l,s;a=u("sidebar-panel-header",I.panelHeader),l=u("sidebar-panel-body",I.panelBody),s=u("sidebar-panel-footer",I.panelFooter),n.append(a,l,s);function g(){let m=a,d,x;return d=u("panel-head-icon",I.panelHeadIcon),m.append(d),x=u("panel-head-title",I.panelHeadTitle),x.innerText="Layers",m.append(x),{icon:d,title:x}}let p=g();return{wrapper:n,header:a,headerIcon:p.icon,headerTitle:p.title,body:l,footer:s}}function o(n,a){let l=O(n),s={height:`${l-10}px`,width:`${l-10}px`},g=u("sidebar-panel-toggle",I.toggle),p=!0;b(g,s),g.innerText="âœ•",n.append(g);function m(){p===!1?p=!0:p=!1}g.addEventListener("click",function(){p===!1?(g.style.transform="rotate(0deg)",a.style.left="min(10%, 80px)",m()):(g.style.transform="rotate(-45deg)",a.style.left="-30%",m())})}let t=r(),i=e();return o(i.header,t.wrapper),{menu:i,panel:t}}function we(){let e={};document.getElementById("ui"),e.sb=ye(),e.buttons={layers:N(e.sb.menu.body,"icons/Layers.png","layer-button"),scene:N(e.sb.menu.body,"icons/Cameras.png","camera-button"),edit:N(e.sb.menu.body,"icons/Groups.png","group-button"),metrics:N(e.sb.menu.body,"icons/Metrics.png","metrics-button")};function r(){let t;for(const[i,n]of Object.entries(e.buttons))n.addEventListener("click",function(){console.log(`${i} button clicked`),t=i});return t}let o=r();return console.log(o),console.log(e),console.log(e.buttons),e}function xe(){const e=document.getElementById("scene"),r=e.clientWidth,o=e.clientHeight,t=new h.Scene;t.up=new h.Vector3(0,0,1),t.name="Main_Scene";const i=new h.WebGLRenderer({powerPreference:"high-performance",stencil:"false",antialias:!0,alpha:!0});i.setSize(r,o),i.setPixelRatio(window.devicePixelRatio),i.gammaFactor=0,i.shadowMap.enabled=!0,i.shadowMap.type=h.PCFSoftShadowMap,i.toneMapping=h.LinearToneMapping,e.append(i.domElement);const n=new h.PerspectiveCamera(60,r/o,.1,1e4);n.up=new h.Vector3(0,0,1);const a=new ce(n,i.domElement);return a.target=new h.Vector3(0,0,250),a.enableDamping=!0,a.dampingFactor=.05,console.log(t),console.log(a),{scene:t,sceneContainer:e,renderer:i,camera:n,controls:a}}const oe=new de;oe.setLibraryPath("https://cdn.jsdelivr.net/npm/rhino3dm@8.6.1/");async function Ce(e,r,o){return new Promise((t,i)=>{let n;n=null,oe.load(e,function(a){n=a,n.up=new h.Vector3(0,0,1),console.log(n);let l=[],s=[],g=[],p=[],m=[],d;d={x:0,y:0,z:0};function x(){let k,W,v,j;return k=[],W=[],v=[],j=[],n.children.forEach(y=>{k.push(y),y.type==="Mesh"?(y.castShadow=r,y.receiveShadow=o,S(y),W.push(y)):y.type==="Line"?(y.castShadow=!1,y.receiveShadow=!1,v.push(y)):y.type==="Point"&&(y.castShadow=!1,y.receiveShadow=!1,j.push(y))}),{geometry:k,meshes:W,lines:v,points:j}}let C=x();l=C.geometry,s=C.meshes,g=C.lines;function S(k){let W=k.material.clone(),v=new h.MeshStandardMaterial;v.color=W.color.clone(),v.metalness=W.metalness,v.roughness=W.roughness,v.opacity=W.opacity;let j=v.clone();j.uuid=k.uuid,p.push(j),m.push(v),k.material=v}function L(){n.children.forEach(k=>{k.geometry.computeBoundingSphere(),d.x+=k.geometry.boundingSphere.center.x,d.y+=k.geometry.boundingSphere.center.y,d.z+=k.geometry.boundingSphere.center.z}),d.x=d.x/n.children.length,d.y=d.y/n.children.length,d.z=d.z/n.children.length}L();function M(){const k=n.userData.layers;class W{constructor(E,B,G,R){z(this,"parent",null);z(this,"depth",null);z(this,"geometry",[]);this.name=E,this.fullPath=B,this.index=G,this.object=R}}let v=0;k.forEach(f=>{f.fullPath;let E=f.fullPath.split("::").length;E>v&&(v=E)});let j=[];for(let f=1;f<v+1;f++){let E=[];k.forEach((B,G)=>{if(B.fullPath.split("::").length===f){let R=new W(B.name,B.fullPath,G,B);R.depth=f,E.push(R)}}),j.push(E)}for(let f=0;f<j.length;f++)if(f!==0){let E=j[f],B=j[f-1];E.forEach(G=>{B.forEach(R=>{G.fullPath.includes(R.fullPath)&&(G.parent=R)})})}let y=[];j.forEach((f,E)=>{y=y.concat(f)});let H=[];return j[0].forEach(f=>{let E=f.fullPath;y.forEach(B=>{B.fullPath.includes(E)&&H.push(B)})}),H.forEach(f=>{n.children.forEach(E=>{E.userData.attributes.layerIndex===f.index&&f.geometry.push(E)})}),console.log(H),{layerDepths:H}}const V=M();function Y(){const k=n.userData.groups,W=[];return k.forEach((v,j)=>{class y{constructor(){z(this,"name",null);z(this,"index",null);z(this,"geometry",[])}}let H=new y;H.name=v.name,H.index=v.index,n.children.forEach(f=>{f.userData.attributes.groupIds!==void 0&&f.userData.attributes.groupIds.forEach(E=>{E===j&&H.geometry.push(f)})}),W.push(H)}),W}const q=Y();t({averageCenter:d,geometry:l,groups:q,layerList:V.layerDepths,lines:g,meshes:s,ogMaterials:p,materials:m,object:n})},void 0,function(a){i(a),console.log(a)})})}function Se(e,r){let o,t;return o=new h.Color(e),t=new h.AmbientLight(o,r),{light:t}}function ve(e,r,o){let t,i,n;return i=new h.Color(e),n=new h.Color(r),t=new h.HemisphereLight(i,n,o),{light:t}}function ke(e,r,o,t,i,n){let a,l,s,g=1;return a=new h.Color(e),l=new h.SpotLight(a),s=new h.SpotLightHelper(l,"#000000"),l.position.set(o.x,o.y,o.z),l.intensity=r,l.castShadow=i,l.angle=Math.pi/t,l.penumbra=.5,l.decay=.5,l.shadow.mapSize.width=1024*g,l.shadow.mapSize.height=1024*g,l.shadow.camera.near=.5,l.shadow.camera.far=1e4,s.update(),{light:l,helper:s}}function Ee(e,r,o,t,i){let n,a,l,s,g,p,m;return new h.Color(e),s=ke(e,r*10,o,t,i).light,s.angle=Math.PI/t,console.log(s),n=new h.Color(e),g=new h.DirectionalLight(n,r/2),g.position.set(-o.x,o.y,o.z),g.castShadow=!1,a=new h.Color(e),p=new h.DirectionalLight(a,r/2),p.position.set(o.x,-o.y,o.z),p.castShadow=!1,l=new h.Color(e),m=new h.DirectionalLight(l,r/2),m.position.set(-o.x,-o.y,o.z),m.castShadow=!1,{lightA:s,lightB:g,lightC:p,lightD:m}}function Le(e,r,o){window.addEventListener("resize",function(){e.aspect=o.clientWidth/o.clientHeight,e.updateProjectionMatrix(),r.setSize(o.clientWidth,o.clientHeight)})}const ee=new h.Raycaster,X=new h.Vector2;function ne(e,r,o){let t,i=null,n,a;n=(-window.innerWidth/2+e.clientX)/(window.innerWidth/2),a=(window.innerHeight/2-e.clientY)/(window.innerHeight/2),X.x=n,X.y=a,ee.setFromCamera(X,o);let l=[];return r.forEach(s=>{s.visible===!0&&l.push(s)}),t=ee.intersectObjects(l,!0),t.length>0?i=t[0].object:i=null,{object:i}}function je(e,r,o){let t=[];if(e.forEach(i=>{i.visible===!0&&t.push(i)}),o!==null){let i=new h.Color("rgb(255,100,0)");o.material.color.set(i),t.forEach(n=>{n.uuid!==o.uuid&&r.forEach(a=>{a.uuid===n.uuid&&n.material.color.set(a.color)})})}else t.forEach(i=>{r.forEach(n=>{n.uuid===i.uuid&&i.material.color.set(n.color)})})}function We(e,r,o){if(o!==null){let t=new h.Color("rgb(100,255,0)");o.material.color.set(t)}}async function Pe(e){try{const o=await(await fetch(e)).json();return o.forEach(t=>{function i(n){let a=n.split(",");return a=a.map(s=>s.replace(/[{}]/g,"").trim()),new h.Vector3(a[0],a[1],a[2])}t.position=i(t.position),t.target=i(t.target),t.fov=parseFloat(t.fov)}),o}catch(r){console.log("Error fetching requested file",r)}}function De(e,r,o){const t=new ue(r);return t.addPass(new he(e,o)),t.addPass(new ge(.25,!1)),t.addPass(new fe(e,o,1,1)),t}document.getElementById("ui");function Te(e){let r,o={pointerEvents:"all",width:"100%",height:"100%",backgroundColor:c.offWhite};r=u("edit-container",o),e.append(r)}const{scene:U,sceneContainer:Be,renderer:Q,camera:T,controls:Ie}=xe();T.position.set(-500,-400,800);let re,F,ie;re=Se("rgb(255,255,255)",.5);ie=ve("rgb(239,254,254)","rgb(54,54,39)",2);F=Ee("rgb(255,255,255)",5,{x:-500,y:-500,z:500},4,!0);U.add(re.light,ie.light,F.lightA,F.lightB,F.lightC,F.lightD);let D,ae;D=await Ce("models/Design-Model.3dm",!0,!0);console.log(D.object);D.meshes.forEach(e=>{U.add(e)});ae=await Pe("models/CameraPositions.json");let _=ae[3];console.log(_);T.position.copy(_.position);T.lookAt(_.target);T.fov=_.fov;console.log(T);const Z=we();let $=Z.sb.panel.body,Me=Z.buttons;function He(){for(const[e,r]of Object.entries(Me))r.addEventListener("click",function(){$.innerHTML="";let t=e;Z.sb.panel.headerTitle.innerText=t.charAt(0).toLocaleUpperCase()+t.slice(1).toLowerCase(),t.toLocaleLowerCase(),console.log(t),t==="layers"?te(D.layerList,$):t==="scene"?be($,F.lightA,T):t==="edit"&&Te($)})}He();te(D.layerList,$);console.log(D);De(U,Q,T);window.addEventListener("mousemove",function(e){let r=ne(e,D.meshes,T).object;je(D.meshes,D.ogMaterials,r)});window.addEventListener("click",function(e){let r=ne(e,D.meshes,T).object;console.log(r),We(D.meshes,D.ogMaterials,r)});Le(T,Q,Be);function Re(){T.updateMatrixWorld(),Q.render(U,T)}function le(){requestAnimationFrame(le),Ie.update(),Re()}le();
